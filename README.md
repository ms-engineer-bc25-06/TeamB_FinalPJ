## 1. ğŸ’— ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

- [PRD](docs/PRD.md)ã‚’å‚ç…§ãã ã•ã„ã€‚

## 2. ğŸ‘· é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ï¼ˆdev-guidelines.mdï¼‰

- [dev-guidelines.md](docs/devGuideline.md)

## 3. ğŸš€ Getting Started

é–‹ç™ºã‚’å§‹ã‚ã‚‹å‰ã«ã€ãŠä½¿ã„ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã«ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ã”ç¢ºèªãã ã•ã„ã€‚

### äº‹å‰æº–å‚™

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã§é–‹ç™º**ã—ã€**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯ Docker ã‚³ãƒ³ãƒ†ãƒŠã§é–‹ç™º**ã—ã¦ã„ã¾ã™ã€‚

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®æ•´å½¢ï¼ˆBlackï¼‰ã‚„é™çš„è§£æï¼ˆpylintï¼‰ãªã©ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ç’°å¢ƒæ§‹ç¯‰ã›ãšã«å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã€**VSCode ã® Dev Container æ©Ÿèƒ½ã®åˆ©ç”¨ã‚’æ¨å¥¨**ã—ã¦ã„ã¾ã™ã€‚

Dev Container ã‚’ä½¿ã†ã“ã¨ã§ã€ãƒãƒ¼ãƒ å…¨ä½“ã§å…±é€šã®é–‹ç™ºç’°å¢ƒï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼ãªã©ï¼‰ã‚’ä½¿ã„ã€ä¿å­˜æ™‚æ•´å½¢ã‚„ import æ•´ç†ãªã©ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¾å­˜ã›ãšè¡Œãˆã¾ã™ã€‚
| ãƒ„ãƒ¼ãƒ« | ç›®çš„ | ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ãƒ»æƒ…å ±æº |
| ----------------------------------------------------------------------------------- | --------------------------------------------------------- | --------------------------------------------------------------------------------------------- |
| **Git** | ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç† | [å…¬å¼ã‚µã‚¤ãƒˆ](https://git-scm.com/downloads) ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€‚ |
| **Node.js** (v18.17.0 ä»¥é™) | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®å®Ÿè¡Œç’°å¢ƒãƒ»ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç† | [nvm](https://github.com/nvm-sh/nvm) ãªã©ã§ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚’æ¨å¥¨ |
| **Docker** & **Docker Compose** | ã‚³ãƒ³ãƒ†ãƒŠæŠ€è¡“ã«ã‚ˆã‚‹ç’°å¢ƒã®åˆ†é›¢ãƒ»å†ç¾æ€§å‘ä¸Š | [Docker Desktop å…¬å¼ã‚µã‚¤ãƒˆ](https://www.docker.com/products/docker-desktop/) ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« |
| **Visual Studio Code** | ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ | [å…¬å¼ã‚µã‚¤ãƒˆ](https://code.visualstudio.com/) ã‚ˆã‚Šã€‚ä»¥ä¸‹ã®æ‹¡å¼µæ©Ÿèƒ½ã‚‚ä½µã›ã¦å°å…¥ã€‚ |
| â”” **ESLint**, **Prettier**, **Python**, **Pylance**, **Docker**, **Dev Containersï¼ˆæ¨å¥¨ï¼‰** | ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ”¯æ´ã€ä¿å­˜æ™‚æ•´å½¢ã€Lintã€DevContainer æ¥ç¶šãªã© | VSCode ã®æ‹¡å¼µæ©Ÿèƒ½ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« |

## âš¡ï¸ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆDevContainer ã‚ã‚Šãƒ»ãªã—å…±é€šï¼‰

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼ï¼ˆFastAPIï¼‰ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆPostgreSQLï¼‰ã‚’ Docker ã‚³ãƒ³ãƒ†ãƒŠã§èµ·å‹•ã—ã¾ã™ã€‚  
æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€DevContainer ã‚ã‚Šãƒ»ãªã— 2 é€šã‚Šã®é–‹ç™ºæ–¹æ³•ãŒé¸ã¹ã¾ã™ã€‚Docker ç’°å¢ƒã§ Black ã‚„ Pylint ã®è‡ªå‹•æ•´å½¢ã‚’è¡Œã„ãŸã„å ´åˆã¯ DevContainer ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

**æ‰‹é †:**

1. **Firebase ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã®é…ç½®**

   - Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ç§˜å¯†éµï¼ˆJSON ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‚’ã€Notion ã®ãŠ™ï¸ãƒšãƒ¼ã‚¸ã«æ²è¼‰ã—ã¦ãŠã‚Šã¾ã™ã®ã§ãã¡ã‚‰ã‚’ã¾ãšã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚
   - ä¸Šè¨˜ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’`backend`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã«é…ç½®ã—ã€ãƒ•ã‚¡ã‚¤ãƒ«åã‚’`firebase-service-account.json`ã«å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚
   - **æ³¨æ„**: ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯`.gitignore`ã«ã‚ˆã£ã¦ Git ã®ç®¡ç†å¯¾è±¡å¤–ã¨ãªã£ã¦ã„ã¾ã™ã€‚

2. **ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®š**
   - `backend`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚‹`.env.example`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã„ã€`.env`ã¨ã„ã†åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚
   - `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€`POSTGRES_USER`ã‚„`POSTGRES_PASSWORD`ãªã©ã€Notion ã®ãŠ™ï¸ãƒšãƒ¼ã‚¸ã‚’å‚è€ƒã«ã€ã”è‡ªèº«ã®ç’°å¢ƒã«åˆã‚ã›ã¦å€¤ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚
3. **å¾…æ©Ÿã‚¹ã‚¯ãƒªãƒ—ãƒˆã«å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸**

   - `backend`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®èµ·å‹•ã‚’å¾…ã¤ãŸã‚ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«å®Ÿè¡Œæ¨©é™ã‚’ä¸ãˆã¾ã™ã€‚**ã“ã®æ‰‹é †ã¯åˆå›ã®ã¿å¿…è¦ã§ã™ã€‚**

     > ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ç”¨ã™ã‚‹èƒŒæ™¯ã¯ã€DB ãŒæ¥ç¶šå¯èƒ½ã«ãªã‚‹ã¾ã§ FAST API ã®èµ·å‹•ã‚’æ­¢ã‚ã‚‹ãŸã‚ã§ã™ã€‚ã“ã®è¨­å®šãŒãªã„ã¨ã€backendï¼ˆFastAPIï¼‰ãŒèµ·å‹•ç›´å¾Œã« DB æ¥ç¶šã‚’è©¦ã¿ã‚ˆã†ã¨ã—ã€DB ã¯ã¾ã åˆæœŸåŒ–ä¸­ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆã‚„ WAL ãƒªã‚«ãƒãƒªä¸­ï¼‰ã§æ¥ç¶šã§ããªã„å•é¡ŒãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

     ```
     chmod +x wait-for-db.sh
     ```

4. **ã‚³ãƒ³ãƒ†ãƒŠã®ãƒ“ãƒ«ãƒ‰ã¨èµ·å‹•**

   - `backend`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
     ```
     docker compose up --build -d
     ```
   - `--build`ã¯åˆå›ã‚„`Dockerfile`ã«å¤‰æ›´ãŒã‚ã£ãŸå ´åˆã«å¿…è¦ã§ã™ã€‚`-d`ã¯ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§èµ·å‹•ã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ã€‚

5. **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é©ç”¨ï¼ˆåˆå› or ãƒ¢ãƒ‡ãƒ«æ›´æ–°æ™‚ï¼‰**

   - `backend`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

     ```
     docker compose exec backend alembic upgrade head

     ```

   - Alembic ã«ã‚ˆã£ã¦ DB ã‚¹ã‚­ãƒ¼ãƒã‚’ã‚³ãƒ¼ãƒ‰ã¨åŒæœŸã•ã›ã¾ã™ã€‚
   - åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ™‚ ã¾ãŸã¯ models.py ãªã©ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´å¾Œ ã®ã¿å®Ÿè¡Œã—ã¾ã™ã€‚
   - é©ç”¨ç¢ºèª
     ```
     docker compose exec backend alembic current
     ```
   - ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€`initial migration`ãªã©ã€æœ€æ–°ç‰ˆã®ãƒªãƒ“ã‚¸ãƒ§ãƒ³ ID ãŒè¡¨ç¤ºã•ã‚Œã‚Œã° OKã€‚

6. **å‹•ä½œç¢ºèª**

   - `docker compose ps`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€`teamb_backend`ã¨`teamb_db`ã® 2 ã¤ã®ã‚³ãƒ³ãƒ†ãƒŠãŒ`Up (healthy)`ã¾ãŸã¯`running`çŠ¶æ…‹ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
   - Web ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:8000/docs` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€FastAPI ã® Swagger UI ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸã§ã™ã€‚
   - Swagger UI ã®ä½¿ã„æ–¹è£œè¶³ï¼š
     > è¡¨ç¤ºã•ã‚ŒãŸãƒšãƒ¼ã‚¸ã§ã€ãƒ†ã‚¹ãƒˆã—ãŸã„ APIï¼ˆä¾‹: POST /api/v1/loginï¼‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å±•é–‹ã€‚ã€ŒTry it outã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã€å¿…è¦ãªæƒ…å ±ï¼ˆID ãƒˆãƒ¼ã‚¯ãƒ³ãªã©ï¼‰ã‚’å…¥åŠ›ã—ã¦ã€ŒExecuteã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€å®Ÿéš›ã« API ã‚’å®Ÿè¡Œã—ã¦çµæœã‚’ç¢ºèªã§ãã¾ã™ã€‚

### âš¡ï¸ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ç¶šãï¼ˆDevContainer ã‚ã‚Šï¼‰

**Dev Container ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã®æ•´å½¢ãƒ»Lint å®Ÿè¡Œæ–¹æ³•**

- `.devcontainer/devcontainer.json` ã«ã‚ˆã‚Šã€**DevContainer åˆå›èµ·å‹•æ™‚ã«è‡ªå‹•ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ï¼š**

```
pip install -r requirements-dev.txt
```

- VSCode å´ã§ã¯ `.devcontainer/devcontainer.json` ã«ã‚ˆã‚Šä»¥ä¸‹ã®è¨­å®šãŒè‡ªå‹•ã§é©ç”¨ã•ã‚Œã¾ã™ï¼š

  - ä¿å­˜æ™‚ã«è‡ªå‹•ã§ `black` ã«ã‚ˆã‚‹æ•´å½¢ãŒå®Ÿè¡Œã•ã‚Œã‚‹
  - `pylint` ã«ã‚ˆã‚‹ Lint ãŒæœ‰åŠ¹ã«ãªã‚‹

- åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ï¼š
  1. VSCode æ‹¡å¼µã€ŒDev Containersã€ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
  2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ VSCode ã§é–‹ã
  3. å·¦ä¸‹ã®ç·‘è‰²ã®ãƒœã‚¿ãƒ³ ğŸŸ¢ ã‹ã‚‰ã€ŒReopen in Containerã€ã‚’é¸ã¶
  4. è‡ªå‹•çš„ã«ã‚³ãƒ³ãƒ†ãƒŠãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œã€é–‹ç™ºç’°å¢ƒï¼ˆblack, pylint ãªã©ï¼‰ãŒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã•ã‚Œã¾ã™
     > ğŸ’¡ åˆå›ãƒ“ãƒ«ãƒ‰ã«ã¯ 5ã€œ10 åˆ†ã‹ã‹ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚2 å›ç›®ä»¥é™ã¯é«˜é€Ÿã«èµ·å‹•ã—ã¾ã™ã€‚

### âš¡ï¸ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ç¶šãï¼ˆDevContainer ãªã—ï¼‰

**Dev Container ã‚’ä½¿ç”¨ã—ãªã„å ´åˆã®æ•´å½¢ãƒ»Lint å®Ÿè¡Œæ–¹æ³•**

```bash
docker compose exec backend pip install -r requirements-dev.txt
```

é–‹ç™ºä¸­ã« 1 å›å®Ÿè¡Œã™ã‚Œã° OK ã§ã™ï¼ˆæœ¬ç•ªç’°å¢ƒã‚„ CI ã§ã¯ä½¿ç”¨ã•ã‚Œã¾ã›ã‚“ï¼‰
ãã®å¾Œã€æ•´å½¢ã‚„ Lint ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè¡Œã§ãã¾ã™ï¼š

```bash
docker compose exec backend black app
docker compose exec backend pylint app
```

- `app`ï¼šæ•´å½¢å¯¾è±¡ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆä¾‹ï¼š`app schemas utils` ãªã©è¤‡æ•°æŒ‡å®šã‚‚ OKï¼‰

Pythonï¼ˆ3.10 ä»¥é™ï¼‰ãŒãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€ä»¥ä¸‹ã§ã‚‚æ•´å½¢å¯èƒ½ã§ã™ã€‚

```
pip install -r backend/requirements-dev.txt
cd backend
black app
```

### â—ï¸ å†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**ãŒå¿…è¦ã«ãªã‚‹ã‚±ãƒ¼ã‚¹**

| ã‚±ãƒ¼ã‚¹                                                                                    | å†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å¿…è¦ï¼Ÿ | ç†ç”±                                                                        |
| ----------------------------------------------------------------------------------------- | -------------------- | --------------------------------------------------------------------------- |
| `--build`ä»˜ãã§ `docker compose up --build` ã‚’å®Ÿè¡Œã—ãŸå ´åˆ                                | âœ… **å¿…è¦**          | ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå†ç”Ÿæˆã•ã‚Œã‚‹ãŸã‚ã€é–‹ç™ºãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒæ¶ˆãˆã‚‹ï¼ˆ`black`, `pylint`ãªã©ï¼‰ |
| ã‚³ãƒ³ãƒ†ãƒŠã‚„ volume ã‚’å‰Šé™¤ã—ãŸ (`docker compose down -v`)                                   | âœ… **å¿…è¦**          | volume ã”ã¨å‰Šé™¤ã•ã‚Œã‚‹ãŸã‚ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå¤±ã‚ã‚Œã‚‹             |
| `.devcontainer/devcontainer.json` ã® `postCreateCommand` ãŒä½•ã‚‰ã‹ã®ç†ç”±ã§å®Ÿè¡Œã•ã‚Œãªã‹ã£ãŸ | âœ… **å¿…è¦**          | ã‚³ãƒãƒ³ãƒ‰ãŒå¤±æ•—ã™ã‚‹ã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå…¥ã£ã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚‹                    |
| VSCode ã® DevContainer å†æ§‹ç¯‰æ™‚ã« `Rebuild Container` ã‚’é¸æŠ                              | âœ… **å¿…è¦**          | ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰å†æ§‹ç¯‰ã•ã‚Œã‚‹ãŸã‚é–‹ç™ºãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«            |

---

#### ğŸ›  å†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå¿…è¦ã‹ã©ã†ã‹ã®**ç¢ºèªæ–¹æ³•**

```
docker compose exec backend which black
```

- ãƒ‘ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã‚Œã° OKï¼ˆä¾‹ï¼š `/usr/local/bin/black`ï¼‰
- è¡¨ç¤ºã•ã‚Œãªã‘ã‚Œã°å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¿…è¦ï¼š

```
docker compose exec backend pip install -r requirements-dev.txt
```

### ğŸŒ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã® Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ (Next.js) ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã®é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã§èµ·å‹•ã—ã¾ã™ã€‚

**æ‰‹é †:**

1. **ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®š**

   - `frontend`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã€`.env.example`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã£ã¦`.env.local`ã¨ã„ã†åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚
   - `.env.local`ã®ä¸­èº«ã«ã¤ã„ã¦ã¯ Notion ã®ãŠ™ï¸ãƒšãƒ¼ã‚¸ã‚’ã”è¦§ãã ã•ã„ã€‚

2. **ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**

   - `frontend`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
     ```
     npm install
     ```

3. **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•**

   - `npm install`ãŒå®Œäº†ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¾ã™ã€‚
     ```
     npm run dev
     ```

4. **å‹•ä½œç¢ºèª**

   - Web ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:3000` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚Œã°æˆåŠŸã§ã™ã€‚

### ğŸ—„ï¸ ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆS3ï¼‰é€£æº

#### 1. æ¦‚è¦

- éŸ³å£°ãƒ»ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯ S3 ã«ä¿å­˜
- S3 ã¸ã®ãƒ‘ã‚¹ã¯ DB ã«ä¿å­˜
- ã‚µãƒ¼ãƒãƒ¼ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿æŒã—ãªã„æ§‹æˆ
- **å¯¾å¿œå½¢å¼**: WebM, WAV, MP3 (éŸ³å£°), TXT (ãƒ†ã‚­ã‚¹ãƒˆ)
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: Presigned URL ã«ã‚ˆã‚‹å®‰å…¨ãªã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: S3 ç›´æ¥ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«ã‚ˆã‚‹ã‚µãƒ¼ãƒãƒ¼è² è·è»½æ¸›

#### 2. ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ‰‹é †

```
// URLã‚’å–å¾—
const res = await fetch("/voice/get-upload-url", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({ user_id: 1, file_type: "audio", file_format: "webm" }),
});
const { upload_url, content_type } = await res.json();

// ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
await fetch(upload_url, {
  method: "PUT",
  headers: { "Content-Type": content_type },
  body: fileBlob,
});
```

âš ï¸ Content-Type ã‚’å¿˜ã‚Œã‚‹ã¨å¤±æ•—ã™ã‚‹ã®ã§æ³¨æ„ï¼

#### 3. API ãƒ†ã‚¹ãƒˆæ–¹æ³•

curl

```
# URLå–å¾—
curl -X POST http://localhost:8000/voice/get-upload-url \
  -H "Content-Type: application/json" \
  -d '{"user_id":1,"file_type":"audio","file_format":"webm"}'

# ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
curl -X PUT "<upload_url>" \
  -H "Content-Type: audio/webm" \
  --data-binary "@path/to/file.webm"
```

## 4. ğŸ“š Documentation

### PRDãƒ»è¦ä»¶å®šç¾©

- [PRD](docs/PRD.md)
- [Requirements Definition](docs/requirements.md)

### æŠ€è¡“é¸å®š

- [Tech Stack Selection](docs/techStack.md)

### ç”»é¢è¨­è¨ˆ

- [UI Design](docs/UIDesign.md)

### DB è¨­è¨ˆ

- [Database Design (draw.io)](docs/databaseDesign.md)

### API è¨­è¨ˆ

- [API Specification (OpenAPI/Swagger)](docs/APISpecification.md)

### ãƒ†ã‚¹ãƒˆè¨­è¨ˆ

- [Test Plan](docs/testPlan.md)

## é‹ç”¨è¨­è¨ˆ

- [Operations Plan](docs/operationsPlan.md)

## æ€§èƒ½è¨­è¨ˆ

- [Performance Design](docs/performanceDesign.md)

## ãƒ­ã‚°è¨­è¨ˆ

- [Logging Design](docs/loggingDesign.md)

## å¯ç”¨æ€§è¨­è¨ˆ

- [Availability Design](docs/availabilityDesign.md)

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

- [Security Design](docs/securityDesign.md)
